<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Towns-shared object price sample</title>



    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://code.jquery.com/ui/1.11.3/jquery-ui.min.js"></script>
    <script>
        var module={};
        var global=window;
    </script>
    <script src="../../build/towns-shared.js"></script>




    <script>
        $(function(){

            z_normalizing_table=[0,0,0,0,0,0,0,0,0,0,0,0,0,0.00003000030000300003,0.00003000030000300003,0.00003000030000300003,0.00012000120001200012,0.00027000270002700027,0.0005400054000540005,0.001080010800108001,0.0017400174001740017,0.003150031500315003,0.005400054000540005,0.00855008550085501,0.012960129601296014,0.018690186901869018,0.026640266402664026,0.03513035130351304,0.04617046170461705,0.05874058740587406,0.07149071490714907,0.08364083640836409,0.0973509735097351,0.11241112411124111,0.12672126721267213,0.13938139381393813,0.15198151981519814,0.16557165571655716,0.17889178891788918,0.1912219122191222,0.2047820478204782,0.2175021750217502,0.22998229982299823,0.24333243332433324,0.25680256802568024,0.27135271352713525,0.28629286292862927,0.3039030390303903,0.3227132271322713,0.3441034410344103,0.36630366303663037,0.3926439264392644,0.4211142111421114,0.4527345273452735,0.4882248822488225,0.5248252482524826,0.5664656646566466,0.6097560975609756,0.6522965229652297,0.6978069780697806,0.7408274082740828,0.7832178321783217,0.8225182251822518,0.8614886148861488,0.8946389463894638,0.920469204692047,0.9423094230942309,0.960579605796058,0.9736297362973629,0.982809828098281,0.9898298982989829,0.994449944499445,0.997509975099751,0.998979989799898,0.999759997599976,1.000060000600006,1.000180001800018,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021,1.000210002100021];


            const points=1000;
            const start={x:(Math.random()-0.5)*10000,y:(Math.random()-0.5)*10000};
            const stop={x:(Math.random()-0.5)*10000,y:-(Math.random()-0.5)*10000};



            var ctx = $('#graph')[0].getContext('2d');



            for(i=0;i<points;i++) {


                var x = (start.x*(i/points))+(stop.x*((points-i)/points)),
                    y = (start.y*(i/points))+(stop.y*((points-i)/points));


                var z = TOWNS.World.mapGenerator.getZ(x, y);

                z = z_normalizing_table[Math.floor(z * z_normalizing_table.length)];


                ctx.beginPath();
                ctx.rect(

                    (i/points)*ctx.canvas.width,
                    ctx.canvas.height,
                    (1/points)*ctx.canvas.width,
                    -z*ctx.canvas.height

                );
                ctx.fillStyle = '#f44';
                ctx.fill();


            }




        });
    </script>
    <style>

        #graph{

            display: inline-block;

            border: 2px solid #444;

            /**/
        }


    </style>
</head>
<body>

<canvas id="graph" width="1000" height="300"></canvas>


<div id="info" style="text-align: center;width: 100%;">
</div>




</body>
</html>