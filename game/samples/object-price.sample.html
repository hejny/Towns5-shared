<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Towns-shared object price sample</title>
</head>


<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://code.jquery.com/ui/1.11.3/jquery-ui.min.js"></script>

<script>
    var module={};
</script>


<script src="../classes-static/math.static.js"></script>
<script src="../classes-static/model-particles.static.js"></script>

<script src="../classes/model.class.js"></script>
<script src="../classes/action-type.class.js"></script>
<script src="../classes/resources.class.js"></script>
<script src="../classes/game.class.js"></script>

<script src="../inits/game.init.js"></script>



<script src="../../objects/buildings/main/tower-stone.building.js"></script>
<script>
    var object_data=module.exports;
</script>



<script>



    $(function(){


        $('#object-json').val(JSON.stringify(object_data,null,4));



        var change = function(){

            var object_json = $('#object-json').val();

            object_json=JSON.parse(object_json);

            var price_bases = game.getObjectPriceBases(object_json);
            var max_life = game.getObjectMaxLife(object_json);
            var prices = game.getObjectPrices(object_json);
            var price = game.getObjectPrice(object_json);

            $('#object-price').html('');

            $('#object-price').append('<b>Max life of building:</b><br>');
            $('#object-price').append(price_bases.join(' <br>+ ')+' <br>~= ');
            $('#object-price').append(max_life);


            $('#object-price').append('<br><hr><br>');


            $('#object-price').append('<b>Price of building:</b><br>');
            $('#object-price').append('( '+prices.join(' ) <br>+ ( ')+' ) <br>~= ');
            $('#object-price').append(price.toString());

        };

        $('#object-json').change(change);
        $('#object-json').keypress(function(){setTimeout(change,100)});
        change();

    });

</script>
<style>


    #object-json{
        display: inline-block;
        vertical-align: top;
        width: calc(50vw - 35px);
        height: calc(100vh - 35px);
    }


    #object-price{
        display: inline-block;
        vertical-align: top;
        text-align: right;
        width: 400px;
        max-width: calc(50vw - 35px);
        height: calc(100vh - 35px);
    }

</style>
<body>


<textarea id="object-json"></textarea>




<div id="object-price"></div>


</body>
</html>